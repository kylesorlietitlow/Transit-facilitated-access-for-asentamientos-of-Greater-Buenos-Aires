<html>
<head>
  <meta charset='utf-8' />
  <title>De Alguna Manera Llegas</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <script src='https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css' rel='stylesheet' />
  <style>
    body { margin:0; padding:10; }
  </style>
</head>

<body>
<style>

/* This controls the menu for selecting layers on and off */
.menu {
    background: #fff;
    position: absolute;
    z-index: 1;
    top: 30px;
    right: 30px;
    border-radius: 4px;
    width: 250px;
    border: 4px solid rgba(0,16,51,1);
    font-family: 'Open Sans', sans-serif;
  }

.menu a {
    font-size: 14px;
    color: #000000;
    display: block;
    margin: 0;
    padding: 0;
    padding: 6px;
    text-decoration: none;
    border-bottom: 1px solid rgba(0,32,102,1);
    text-align: left;
  }

.menu h3 {
    color: navy;
    margin: 5 5 5px;
  }

.menu p {
    color: black;
    font-size: 14px;
    margin: 5 5 5px;
  }

.menu a:last-child {
    border: none;
  }

.menu a:hover {
    background-color: #f8f8f8;
    color: #404040;
  }

.menu a.active {
    background-color: #74ACDF;
    color: #ffffff;
  }

.menu a.active:hover {
    background: #3074a4;
  }

/* This adjusts the pop-ups */
#popup .mapboxgl-popup {
      max-width: 400px;
      font: 14px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
  }

/* This controls the size and location of the legend */
  .legend {
  background-color: #ffffff;
  border-radius: 3px;
  bottom: 20px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 1);
  font: 12px/18px 'Helvetica Neue', Arial, Helvetica, sans-serif;
  padding: 15px;
  position: absolute;
  left: 20px;
  z-index: 1;
  }

  .legend h3 {
  margin: 5 0 5px;
  font-size: 14px;
  }

  /*This controls the small icons in the legend*/
  .legend div span {
  border-radius: 40%;
  display: inline-block;
  height: 8px;
  margin-right: 10px;
  font-size: 12px;
  width: 10px;
  }

</style>

<div id="feature-menu" class="menu">
  <h3>Destinations</h3>
  <p>Click on a destination to reveal the minimum travel time required to access that feature using only public transport.</p>
  <p>Each circle corresponds to one of the sampled census radios.</p>
</div>

<div id="asent-legend" class="legend">
  <h3>Origins</h3>
  <div><span style="background-color: #00a1ff"></span>Asentamientos</div>
  <div><span style="background-color: gray"></span>Sampled census radios</div>
  <h3>Destinations</h3>
  <div><span style="background-color: gold"></span>City/department centers</div>
  <div><span style="background-color: black"></span>Railway Stations</div>
  <div><span style="background-color: #ff0000"></span>Public Healthcare</div>
  <div><span style="background-color: green"></span>Public Schools</div>
  <h3>Travel Times</h3>
  <div><span style="background-color: #cbf3a5"></span>No asentamiento</div>
  <div><span style="background-color: #f3dda5"></span>Possible asentamiento</div>
  <div><span style="background-color: #f3a5a5"></span>Likely asentamiento</div>
  <h3>Sources</h3>
  TECHO
  INDEC
  Province
  </ul>
</div>

<div id='map' class="map" style='height:100%; width:100%;'>
<h1>De alguna manera llegas</h1>
<h3>Relative public transportation-facilitated access of the asentamientos of greater Buenos Aires, Argentina (2018)</h3>
</div>

<script>
  mapboxgl.accessToken = 'pk.eyJ1Ijoia2p0aXRsb3dzb3JsaWUiLCJhIjoiY2sxejZudGF2MGJlZDNkbWZtZHZzbmRmeCJ9.beWVxMVUrwEARaCqoXO9eg';
  var map = new mapboxgl.Map({
    container: 'map', //HTML container ID
    style: 'mapbox://styles/mapbox/light-v10', //style URL
    center: [-58.5256, -34.6588], //start position (lat/long)
    zoom: 9,
    minZoom: 9
});

// --------------------------------------------------------------------------------------------------
// Add your own data on top of the basemap
// You can add raster data, geoJSON files, WMS dta, etc.
map.on('load', function () {

  // ORIGINS ---------------------------------------------------------
  // Adds the Buenos Aires CBD travel times to the map
   map.addLayer({
         "id": "TT: BsAs CBD, Zout",
         "type": "circle",
         "source": {
           type: 'vector',
           url: 'mapbox://kjtitlowsorlie.670ruj5d',
         },
         "source-layer": "origin_radio_n3_tt_all-9auufk",
         "layout": {
             "visibility": "none"
         },
         "maxzoom": 11,
         "paint": {
           "circle-radius":
                ['/', ['get', 'trvtime_cbd_bsas'], 30],
           "circle-color": [
                'match',
                ['get', 'COVERAGE_TYPE'],
                'NONE', '#cbf3a5',
                'MIN', '#f3dda5',
                'MAJ', '#f3a5a5',
                /* other */ '#ccc'
           ],
           "circle-stroke-width": 1,
           "circle-stroke-color": [
             'match',
             ['get', 'COVERAGE_TYPE'],
             'NONE', '#217109',
             'MIN', '#b3900f',
             'MAJ', '#8e120b',
             /* other */ '#ccc'
            ]
         }
   });

   map.addLayer({
         "id": "TT: BsAs CBD, Zin",
         "type": "circle",
         "source": {
           type: 'vector',
           url: 'mapbox://kjtitlowsorlie.670ruj5d',
         },
         "source-layer": "origin_radio_n3_tt_all-9auufk",
         "layout": {
             "visibility": "none"
         },
         "minzoom": 11,
         "paint": {
           "circle-radius":
                ['/', ['get', 'trvtime_cbd_bsas'], 15],
           "circle-color": [
                'match',
                ['get', 'COVERAGE_TYPE'],
                'NONE', '#cbf3a5',
                'MIN', '#f3dda5',
                'MAJ', '#f3a5a5',
                /* other */ '#ccc'
           ],
           "circle-stroke-width": 1,
           "circle-stroke-color": [
             'match',
             ['get', 'COVERAGE_TYPE'],
             'NONE', '#217109',
             'MIN', '#b3900f',
             'MAJ', '#8e120b',
             /* other */ '#ccc'
            ]
         }
   });

   // Adds the Departmental CBD travel times to the map
  map.addLayer({
          "id": "TT: Dept CBD, Zout",
          "type": "circle",
          "source": {
            type: 'vector',
            url: 'mapbox://kjtitlowsorlie.670ruj5d',
          },
          "source-layer": "origin_radio_n3_tt_all-9auufk",
          "layout": {
              "visibility": "none"
          },
          "maxzoom": 11,
          "paint": {
            "circle-radius":
                 ['/', ['get', 'trvtime_cbd_loc'], 60],
            "circle-color": [
                 'match',
                 ['get', 'COVERAGE_TYPE'],
                 'NONE', '#cbf3a5',
                 'MIN', '#f3dda5',
                 'MAJ', '#f3a5a5',
                 /* other */ '#ccc'
            ],
            "circle-stroke-width": 1,
            "circle-stroke-color": [
              'match',
              ['get', 'COVERAGE_TYPE'],
              'NONE', '#217109',
              'MIN', '#b3900f',
              'MAJ', '#8e120b',
              /* other */ '#ccc'
             ]
          }
    });

  map.addLayer({
           "id": "TT: Dept CBD, Zin",
           "type": "circle",
           "source": {
             type: 'vector',
             url: 'mapbox://kjtitlowsorlie.670ruj5d',
           },
           "source-layer": "origin_radio_n3_tt_all-9auufk",
           "layout": {
               "visibility": "none"
           },
           "minzoom": 11,
           "paint": {
             "circle-radius":
                  ['/', ['get', 'trvtime_cbd_loc'], 15],
             "circle-color": [
                  'match',
                  ['get', 'COVERAGE_TYPE'],
                  'NONE', '#cbf3a5',
                  'MIN', '#f3dda5',
                  'MAJ', '#f3a5a5',
                  /* other */ '#ccc'
             ],
             "circle-stroke-width": 1,
             "circle-stroke-color": [
               'match',
               ['get', 'COVERAGE_TYPE'],
               'NONE', '#217109',
               'MIN', '#b3900f',
               'MAJ', '#8e120b',
               /* other */ '#ccc'
              ]
           }
     });

  // DESTINATIONS --------------------------------------------------------------------------------------
  // Adds kindergartens the map
   map.addLayer({
         "id": "Public Kindergartens",
         "type": "circle",
         "source": {
           type: 'vector',
           url: 'mapbox://kjtitlowsorlie.8qn1w9yg',
         },
         "source-layer": "destinations_schools-1vhhh5",
         "layout": {
             "visibility": "none"
         },
         "filter": ["==", "nivel", 'Nivel Inicial'],
         "paint": {
           "circle-radius": 2,
           "circle-color": [
                'match',
                ['get', 'nivel'],
                'Nivel Inicial', '#6e3dff',
                'Nivel Primario', '#3900e6',
                'Nivel Secundario', '#200080',
                /* other */ '#ccc'
           ]
         }
   });

   // Adds primary schools to the map
    map.addLayer({
          "id": "Public Primary Schools",
          "type": "circle",
          "source": {
            type: 'vector',
            url: 'mapbox://kjtitlowsorlie.8qn1w9yg',
          },
          "source-layer": "destinations_schools-1vhhh5",
          "layout": {
              "visibility": "none"
          },
          "filter": ["==", "nivel", 'Nivel Primario'],
          "paint": {
            "circle-radius": 2,
            "circle-color": [
                 'match',
                 ['get', 'nivel'],
                 'Nivel Inicial', '#6e3dff',
                 'Nivel Primario', '#3900e6',
                 'Nivel Secundario', '#200080',
                 /* other */ '#ccc'
            ]
          }
    });


       // Adds primary schools to the map
     map.addLayer({
              "id": "Public Secondary Schools",
              "type": "circle",
              "source": {
                type: 'vector',
                url: 'mapbox://kjtitlowsorlie.8qn1w9yg',
              },
              "source-layer": "destinations_schools-1vhhh5",
              "layout": {
                  "visibility": "none"
              },
              "filter": ["==", "nivel", 'Nivel Secundario'],
              "paint": {
                "circle-radius": 2,
                "circle-color": [
                     'match',
                     ['get', 'nivel'],
                     'Nivel Inicial', '#6e3dff',
                     'Nivel Primario', '#3900e6',
                     'Nivel Secundario', '#200080',
                     /* other */ '#ccc'
                ]
              }
        });


 // Adds the health diagnostic centers to the map
  map.addLayer({
        "id": "Diagnostic Health Centers",
        "type": "circle",
        "source": {
          type: 'vector',
          url: 'mapbox://kjtitlowsorlie.bk65u8du',
        },
        "source-layer": "destinations_health_diagnosti-1f5bc4",
        "layout": {
          "visibility": "none"
        },
        "paint": {
          "circle-radius": 2.5,
          "circle-color": "#ff0000"
        }
  });

  // Adds the hospitals
   map.addLayer({
         "id": "Public Hospitals",
         "type": "circle",
         "source": {
           type: 'vector',
           url: 'mapbox://kjtitlowsorlie.b91ojl8b',
         },
         "source-layer": "destinations_health_hospitals-ar86ee",
         'filter': ["!=", "provincia", "CABA"],
         "layout": {
           "visibility": "none"
         },
         "paint": {
           "circle-radius": 2.5,
           "circle-color": "#ff0000"
         }
   });

   // Adds the urgent care centers
    map.addLayer({
          "id": "Urgent Care Centers",
          "type": "circle",
          "source": {
            type: 'vector',
            url: 'mapbox://kjtitlowsorlie.ai2yaxzu',
          },
          "source-layer": "destinations_health_pronta-9frmpu",
          "layout": {
            "visibility": "none"
          },
          "paint": {
            "circle-radius": 2.5,
            "circle-color": "#ff0000"
          }
    });


 //Adds the major passenger rail stations to the map
  map.addLayer({
        "id": "Railway Stations",
        "type": "circle",
        "source": {
          type: 'vector',
          url: 'mapbox://kjtitlowsorlie.ck2hr20v70bl22ons6yqz7v2i-2m3e1',
        },
        "source-layer": "transport_rail_stations",
        //"layout":
        "paint": {
          "circle-radius": 2
        }
  });


  //Adds the CBD's of the administrative districts to the map
  map.addLayer({
        "id": "Proximate CBDs",
        "type": "circle",
        "source": {
          type: 'vector',
          url: 'mapbox://kjtitlowsorlie.dzh4aewp',
        },
        "source-layer": "destinations_cbd_n3_proximate-47a3a8",
        "layout": {
           "visibility": "none"
        },
        "paint": {
          "circle-radius": 5,
          "circle-color": "#deb72a",
          'circle-stroke-color': '#7d6614',
          'circle-stroke-width': 1,
        }
  });

  //Adds the CBD's of Quilmes
  map.addLayer({
        "id": "Pilar CBD",
        "type": "circle",
        "source": {
          type: 'vector',
          url: 'mapbox://kjtitlowsorlie.agl0ofae',
        },
        "source-layer": "destinations_cbd_n3_pilar-d5nb3e",
        "layout": {
           "visibility": "none"
        },
        "paint": {
          "circle-radius": 6,
          "circle-color": "#deb72a",
          'circle-stroke-color': '#7d6614',
          'circle-stroke-width': 1,
        }
  });

  //Adds the CBD's of La Matanza
  map.addLayer({
        "id": "La Matanza CBD",
        "type": "circle",
        "source": {
          type: 'vector',
          url: 'mapbox://kjtitlowsorlie.d1w0pjta',
        },
        "source-layer": "destinations_cbd_n3_lamatanza-6petqm",
        "layout": {
           "visibility": "none"
        },
        "paint": {
          "circle-radius": 6,
          "circle-color": "#deb72a",
          'circle-stroke-color': '#7d6614',
          'circle-stroke-width': 1,
        }
  });

  //Adds the CBD's of Quilmes
  map.addLayer({
        "id": "Quilmes CBD",
        "type": "circle",
        "source": {
          type: 'vector',
          url: 'mapbox://kjtitlowsorlie.29oi0mt7',
        },
        "source-layer": "destinations_cbd_n3_quilmes-09rt2h",
        "layout": {
           "visibility": "none"
        },
        "paint": {
          "circle-radius": 6,
          "circle-color": "#deb72a",
          'circle-stroke-color': '#7d6614',
          'circle-stroke-width': 1,
        }
  });


  //Adds the CBD's of Buenos Aires AMBA
  map.addLayer({
        "id": "Buenos Aires CBD",
        "type": "circle",
        "source": {
          type: 'vector',
          url: 'mapbox://kjtitlowsorlie.0sun1ebq',
        },
        "source-layer": "destinations_cbd_amba-43nl1e",
        "layout": {
           "visibility": "none"
        },
        "paint": {
          "circle-radius": 6,
          "circle-color": "#deb72a",
          'circle-stroke-color': '#7d6614',
          'circle-stroke-width': 1,
        }
  });




  //Adds the asentamientos to the map.
   map.addLayer({
         "id": "Asentamientos",
         "type": "fill",
         "source": {
           type: 'vector',
           url: 'mapbox://kjtitlowsorlie.3kqkd08u',
         },
         "source-layer": "techo_amba30_asent-8fr5iw",
         //"layout":
         "paint": {
           "fill-opacity": 0.3,
           "fill-color": "#00a1ff"
         }
   });




   //Adds the major passenger rail lines to the map
    map.addLayer({
          "id": "Railway Lines",
          "type": "line",
          "source": {
            type: 'vector',
            url: 'mapbox://kjtitlowsorlie.04rgotuk',
          },
          "source-layer": "transport_amba24_rail-bb81bc"//,
          //"layout":
          //"paint": {
          //  "circle-radius": 3
          //}
    });



    //Adds the census radios selected for travel time analysis
     map.addLayer({
           "id": "Census Radios Selected",
           "type": "fill",
           "source": {
             type: 'vector',
             url: 'mapbox://kjtitlowsorlie.206j3dn1',
           },
           "source-layer": "origin_radio_n3_INDEC-1w4x8m",
           //"layout":
           "minzoom": 11,
           "paint": {
             "fill-opacity": 0.1,
             //"fill-color": "#FFFFFF",
             "fill-outline-color": "black"
           }
     });

  //Adds the census radios from the three study departments to the map
   map.addLayer({
         "id": "Census Radios",
         "type": "fill",
         "source": {
           type: 'vector',
           url: 'mapbox://kjtitlowsorlie.4z51ae0v',
         },
         "source-layer": "indec_n3_radio-bsembm",
         //"layout":
         "minzoom": 11,
         "paint": {
           "fill-opacity": 0.1,
           //"fill-color": "#FFFFFF",
           "fill-outline-color": "#000000"
         }
   });



   //Adds the three study districts to the map
    map.addLayer({
          "id": "Study Departments",
          "type": "fill",
          "source": {
            type: 'vector',
            url: 'mapbox://kjtitlowsorlie.5vk5qww6',
          },
          "source-layer": "admin_adm2_n3-4ryv1b",
          //"layout":
          "maxzoom": 11,
          "paint": {
            "fill-opacity": 0.1,
            //"fill-color": "#FFFFFF",
            "fill-outline-color": "#000000"
          }
    });

    //Adds the  mancha urbana to the map
     map.addLayer({
           "id": "Mancha Urbana",
           "type": "fill",
           "source": {
             type: 'vector',
             url: 'mapbox://kjtitlowsorlie.1a772bi3',
           },
           "source-layer": "urban_amba_manchaurbana-9etucc",
           //"layout":
           "paint": {
             "fill-opacity": 0.025
           }
     });

 //Adds the administrative districts to the map
  map.addLayer({
        "id": "Departments",
        "type": "fill",
        "source": {
          type: 'vector',
          url: 'mapbox://kjtitlowsorlie.d43g0qwy',
        },
        "source-layer": "admin_adm2_amba30-47m61p",
        //"layout":
        "maxzoom": 11,
        "paint": {
          "fill-opacity": 0.05
        }
  });
});

// --------------------------------------------------------------------------------------------------
// Adds the Buenos Aires CBD travel times and feature to the map
var toggleableLayerIds1 = [ 'Buenos Aires CBD', 'TT: BsAs CBD, Zout', 'TT: BsAs CBD, Zin' ];

var link = document.createElement('a');
link.href = '#';
link.className = 'active';
link.textContent = "City center of Buenos Aires";
link.onclick = function (e) {
    for(var index in toggleableLayerIds1) {
      var clickedLayer = toggleableLayerIds1[index];
      e.preventDefault();
      e.stopPropagation();

      var visibility = map.getLayoutProperty(clickedLayer, 'visibility');

      if (visibility === 'visible') {
          map.setLayoutProperty(clickedLayer, 'visibility', 'none');
          this.className = '';
      } else {
          this.className = 'active';
          map.setLayoutProperty(clickedLayer, 'visibility', 'visible');
      }
    }

};

// Adds the Departmental CBD travel times and features to the map
var toggleableLayerIds2 = [ 'Quilmes CBD', 'La Matanza CBD', 'Pilar CBD', 'TT: Dept CBD, Zout', 'TT: Dept CBD, Zin' ];

var link2 = document.createElement('a');
link2.href = '#';
link2.className = 'active';
link2.textContent = "City center of radio's department";
link2.onclick = function (e) {
    for(var index2 in toggleableLayerIds2) {
      var clickedLayer2 = toggleableLayerIds2[index2];
      e.preventDefault();
      e.stopPropagation();

      var visibility2 = map.getLayoutProperty(clickedLayer2, 'visibility');

      if (visibility2 === 'visible') {
          map.setLayoutProperty(clickedLayer2, 'visibility', 'none');
          this.className = '';
      } else {
          this.className = 'active';
          map.setLayoutProperty(clickedLayer2, 'visibility', 'visible');
      }
    }

};

// Adds the proximate CBD's layer to the map
var toggleableLayerIds3 = [ 'Proximate CBDs', 'Pilar CBD', 'La Matanza CBD', 'Quilmes CBD'];

var link3 = document.createElement('a');
link3.href = '#';
link3.className = 'active';
link3.textContent = "City center of any department";
link3.onclick = function (e) {
    for(var index3 in toggleableLayerIds3) {
      var clickedLayer3 = toggleableLayerIds3[index3];
      e.preventDefault();
      e.stopPropagation();

      var visibility3 = map.getLayoutProperty(clickedLayer3, 'visibility');

      if (visibility3 === 'visible') {
          map.setLayoutProperty(clickedLayer3, 'visibility', 'none');
          this.className = '';
      } else {
          this.className = 'active';
          map.setLayoutProperty(clickedLayer3, 'visibility', 'visible');
      }
    }

};

// Adds the railway stations to the map
var toggleableLayerIds4 = [ 'Railway Stations'];

var link4 = document.createElement('a');
link4.href = '#';
link4.className = 'active';
link4.textContent = "Railway station";
link4.onclick = function (e) {
    for(var index4 in toggleableLayerIds4) {
      var clickedLayer4 = toggleableLayerIds4[index4];
      e.preventDefault();
      e.stopPropagation();

      var visibility4 = map.getLayoutProperty(clickedLayer4, 'visibility');

      if (visibility4 === 'visible') {
          map.setLayoutProperty(clickedLayer4, 'visibility', 'none');
          this.className = '';
      } else {
          this.className = 'active';
          map.setLayoutProperty(clickedLayer4, 'visibility', 'visible');
      }
    }

};

// Adds the public diagnostic centers to the map
var toggleableLayerIds5 = [ 'Diagnostic Health Centers'];

var link5 = document.createElement('a');
link5.href = '#';
link5.className = 'active';
link5.textContent = "Public diagnostic/treatment center";
link5.onclick = function (e) {
    for(var index5 in toggleableLayerIds5) {
      var clickedLayer5 = toggleableLayerIds5[index5];
      e.preventDefault();
      e.stopPropagation();

      var visibility5 = map.getLayoutProperty(clickedLayer5, 'visibility');

      if (visibility5 === 'visible') {
          map.setLayoutProperty(clickedLayer5, 'visibility', 'none');
          this.className = '';
      } else {
          this.className = 'active';
          map.setLayoutProperty(clickedLayer5, 'visibility', 'visible');
      }
    }

};

// Adds the public hospitals to the map
var toggleableLayerIds6 = [ 'Public Hospitals'];

var link6 = document.createElement('a');
link6.href = '#';
link6.className = 'active';
link6.textContent = "Public hospitals";
link6.onclick = function (e) {
    for(var index6 in toggleableLayerIds6) {
      var clickedLayer6 = toggleableLayerIds6[index6];
      e.preventDefault();
      e.stopPropagation();

      var visibility6 = map.getLayoutProperty(clickedLayer6, 'visibility');

      if (visibility6 === 'visible') {
          map.setLayoutProperty(clickedLayer6, 'visibility', 'none');
          this.className = '';
      } else {
          this.className = 'active';
          map.setLayoutProperty(clickedLayer6, 'visibility', 'visible');
      }
    }

};

// Adds the public urgent care centers to the map
var toggleableLayerIds7 = [ 'Urgent Care Centers'];

var link7 = document.createElement('a');
link7.href = '#';
link7.className = 'active';
link7.textContent = "Public urgent care centers";
link7.onclick = function (e) {
    for(var index7 in toggleableLayerIds7) {
      var clickedLayer7 = toggleableLayerIds7[index7];
      e.preventDefault();
      e.stopPropagation();

      var visibility7 = map.getLayoutProperty(clickedLayer7, 'visibility');

      if (visibility7 === 'visible') {
          map.setLayoutProperty(clickedLayer7, 'visibility', 'none');
          this.className = '';
      } else {
          this.className = 'active';
          map.setLayoutProperty(clickedLayer7, 'visibility', 'visible');
      }
    }

};

// Adds the public urgent care centers to the map
var toggleableLayerIds8 = [ 'Public Kindergartens'];

var link8 = document.createElement('a');
link8.href = '#';
link8.className = 'active';
link8.textContent = "Public kindergartens";
link8.onclick = function (e) {
    for(var index8 in toggleableLayerIds8) {
      var clickedLayer8 = toggleableLayerIds8[index8];
      e.preventDefault();
      e.stopPropagation();

      var visibility8 = map.getLayoutProperty(clickedLayer8, 'visibility');

      if (visibility8 === 'visible') {
          map.setLayoutProperty(clickedLayer8, 'visibility', 'none');
          this.className = '';
      } else {
          this.className = 'active';
          map.setLayoutProperty(clickedLayer8, 'visibility', 'visible');
      }
    }

};

// Adds the public urgent care centers to the map
var toggleableLayerIds9 = [ 'Public Primary Schools'];

// Adds the public urgent care centers to the map
var toggleableLayerIds0 = [ 'Public Secondary Schools'];


var layers = document.getElementById('feature-menu');
layers.appendChild(link);
layers.appendChild(link2);
layers.appendChild(link3);
layers.appendChild(link4);
layers.appendChild(link5);
layers.appendChild(link6);
layers.appendChild(link7);
layers.appendChild(link8);

// --------------------------------------------------------------------------------------------------
// When a click event occurs on a feature in the states layer, open a popup at the
// location of the click, with description HTML from its properties.
map.on('click', 'TT: BsAs CBD, Zout', function(e) {
new mapboxgl.Popup()
.setLngLat(e.lngLat)
.setHTML(e.features[0].properties.CODIGO_TXT)
.addTo(map);
});

// Change the cursor to a pointer when the mouse is over the states layer.
map.on('mouseenter', 'TT: BsAs CBD, Zout', function() {
map.getCanvas().style.cursor = 'pointer';
});

// Change it back to a pointer when it leaves.
map.on('mouseleave', 'TT: BsAs CBD, Zout', function() {
map.getCanvas().style.cursor = '';
});

// -------------------------------------------------------------------------------------------------
// Add a legend to the map
var asentLegend = document.getElementById('legend-asent');
map.on('zoom', function() {
  if (map.getZoom() < 0) {
    asentLegend.style.display = 'block';
  }
});

</script>
</body>
</html>
